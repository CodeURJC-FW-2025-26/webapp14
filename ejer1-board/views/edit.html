<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Editar producto - SellOra</title>
  <link rel="icon" type="image/png" href="/img/favicon-32x32.png">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" href="/css/SELLORA.css">
</head>
<body style="background-color: #9ba4b8;">
  <div class="container py-4">
    <button class="btn btn-custom mb-3" onclick="window.history.back()">Back</button>
    <div class="card p-4">
      <h3>Edit product</h3>

      <form action="/product/{{product._id}}/edit" method="POST" enctype="multipart/form-data">
        <div class="mb-3">
          <label class="form-label">Usuario</label>
          <input name="user" class="form-control" value="{{product.user}}">
        </div>

        <div class="mb-3">
          <label class="form-label">Título</label>
          <input name="title" class="form-control" required value="{{product.title}}">
        </div>

        <div class="mb-3">
          <label class="form-label">Descripción</label>
          <textarea name="text" class="form-control" rows="4" required>{{product.text}}</textarea>
        </div>

        <div class="mb-3">
          <label class="form-label">Precio</label>
          <input name="price" class="form-control" required value="{{product.price}}">
        </div>

        <div class="mb-3">
          <label class="form-label">Categoría</label>
          <input name="category" class="form-control" value="{{product.category}}">
        </div>

        <div class="mb-3">
          <label class="form-label">Imagen actual</label>
          <div>
                {{#product.imageFilename}}
                <img src="/product/{{product._id}}/image" class="product-image" alt="{{product.title}}">
                {{/product.imageFilename}}

                {{^product.imageFilename}}
                {{#product.image}}
                    <img src="{{product.image}}" class="product-image" alt="{{product.title}}">
                {{/product.image}}

                {{^product.image}}
                    <img src="/img/placeholder.png" class="product-image" alt="sin imagen">
                {{/product.image}}
                {{/product.imageFilename}}
          </div>
        </div>

        <div class="mb-3">
          <label class="form-label">Upload new image (optional)</label>
          <input type="file" name="image" class="form-control">
          <div class="form-text">If you don't select a file, the previous image will be kept.</div>
        </div>

        <div class="d-flex gap-2">
          <button class="btn btn-custom" type="submit">Save</button>
          <a href="/product/{{product._id}}" class="btn btn-secondary">Cancel</a>
        </div>
      </form>
    </div>
  </div>
</body>
</html>
